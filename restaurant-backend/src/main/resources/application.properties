# ========================================
# 餐饮管理系统 - 配置文件
# ========================================

# ========================================
# 服务器配置
# ========================================
# 服务器端口设置为8080
server.port=8080

# ========================================
# 数据库连接配置
# ========================================
# MySQL数据库连接URL
# createDatabaseIfNotExist=true: 如果数据库不存在则自动创建
# useUnicode=true: 启用Unicode字符集支持
# characterEncoding=utf8: 设置字符编码为UTF-8
# serverTimezone=Asia/Shanghai: 设置时区为亚洲/上海（东八区）
spring.datasource.url=jdbc:mysql://localhost:3306/restaurant_db?createDatabaseIfNotExist=true&useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai

# 数据库用户名
spring.datasource.username=root

# 数据库密码
spring.datasource.password=123456

# MySQL数据库驱动
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ========================================
# JPA/Hibernate 配置
# ========================================
# DDL自动生成策略：none表示不自动生成表结构，需要手动创建
spring.jpa.hibernate.ddl-auto=none

# 是否在控制台显示SQL语句（开发环境使用）
spring.jpa.show-sql=true

# 格式化输出SQL语句（便于调试）
spring.jpa.properties.hibernate.format_sql=true

# 指定Hibernate方言为MySQL8方言（适用于MySQL 8.x版本）
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# 延迟数据源初始化，确保JPA实体先被加载
spring.jpa.defer-datasource-initialization=true

# ========================================
# SQL脚本初始化配置
# ========================================
# SQL初始化模式：never表示不执行SQL初始化脚本
# 可选值：always（总是执行）、embedded（仅嵌入式数据库）、never（从不执行）
spring.sql.init.mode=never

# ========================================
# JWT（JSON Web Token）安全配置
# ========================================
# JWT签名密钥（生产环境请使用更复杂的密钥）
jwt.secret=restaurantManagementSystemSecretKey2025

# JWT令牌过期时间：86400000ms = 24小时
jwt.expiration=86400000

# ========================================
# 文件上传配置
# ========================================
# 单个文件最大大小
spring.servlet.multipart.max-file-size=10MB

# 单次请求最大大小（包含所有文件）
spring.servlet.multipart.max-request-size=10MB

# 文件上传保存目录（相对路径）
file.upload-dir=./uploads/images

# ========================================
# 日志配置
# ========================================
# Spring Web相关日志级别设置为INFO（显示重要信息）
logging.level.org.springframework.web=INFO

# Hibernate日志级别设置为ERROR（只显示错误信息）
logging.level.org.hibernate=ERROR

# 项目包路径日志级别设置为DEBUG（显示详细调试信息）
logging.level.com.restaurant=DEBUG

# ========================================
# Jackson JSON处理配置
# ========================================
# JSON日期格式化模式（统一日期格式）
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss

# JSON时区设置（与服务器时区保持一致）
spring.jackson.time-zone=Asia/Shanghai